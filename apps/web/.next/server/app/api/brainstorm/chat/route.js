"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/brainstorm/chat/route";
exports.ids = ["app/api/brainstorm/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbrainstorm%2Fchat%2Froute&page=%2Fapi%2Fbrainstorm%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbrainstorm%2Fchat%2Froute.ts&appDir=%2FUsers%2Fbyronhudson%2FProjects%2FBuildRunnerSaaS%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbyronhudson%2FProjects%2FBuildRunnerSaaS%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbrainstorm%2Fchat%2Froute&page=%2Fapi%2Fbrainstorm%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbrainstorm%2Fchat%2Froute.ts&appDir=%2FUsers%2Fbyronhudson%2FProjects%2FBuildRunnerSaaS%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbyronhudson%2FProjects%2FBuildRunnerSaaS%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _Users_byronhudson_Projects_BuildRunnerSaaS_apps_web_app_api_brainstorm_chat_route_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/api/brainstorm/chat/route.ts */ \"(rsc)/./app/api/brainstorm/chat/route.ts\");\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/brainstorm/chat/route\",\n        pathname: \"/api/brainstorm/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/brainstorm/chat/route\"\n    },\n    resolvedPagePath: \"/Users/byronhudson/Projects/BuildRunnerSaaS/apps/web/app/api/brainstorm/chat/route.ts\",\n    nextConfigOutput,\n    userland: _Users_byronhudson_Projects_BuildRunnerSaaS_apps_web_app_api_brainstorm_chat_route_ts__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/brainstorm/chat/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZicmFpbnN0b3JtJTJGY2hhdCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYnJhaW5zdG9ybSUyRmNoYXQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZicmFpbnN0b3JtJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmJ5cm9uaHVkc29uJTJGUHJvamVjdHMlMkZCdWlsZFJ1bm5lclNhYVMlMkZhcHBzJTJGd2ViJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmJ5cm9uaHVkc29uJTJGUHJvamVjdHMlMkZCdWlsZFJ1bm5lclNhYVMlMkZhcHBzJTJGd2ViJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNtRDtBQUNsSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWlsZHJ1bm5lci13ZWIvP2Q4NTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2J5cm9uaHVkc29uL1Byb2plY3RzL0J1aWxkUnVubmVyU2FhUy9hcHBzL3dlYi9hcHAvYXBpL2JyYWluc3Rvcm0vY2hhdC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYnJhaW5zdG9ybS9jaGF0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYnJhaW5zdG9ybS9jaGF0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9icmFpbnN0b3JtL2NoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvYnlyb25odWRzb24vUHJvamVjdHMvQnVpbGRSdW5uZXJTYWFTL2FwcHMvd2ViL2FwcC9hcGkvYnJhaW5zdG9ybS9jaGF0L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2JyYWluc3Rvcm0vY2hhdC9yb3V0ZVwiO1xuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbrainstorm%2Fchat%2Froute&page=%2Fapi%2Fbrainstorm%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbrainstorm%2Fchat%2Froute.ts&appDir=%2FUsers%2Fbyronhudson%2FProjects%2FBuildRunnerSaaS%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbyronhudson%2FProjects%2FBuildRunnerSaaS%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/brainstorm/chat/route.ts":
/*!******************************************!*\
  !*** ./app/api/brainstorm/chat/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\n// Real OpenRouter service integration\nclass OpenRouterService {\n    constructor(apiKey){\n        this.baseUrl = \"https://openrouter.ai/api/v1\";\n        this.apiKey = apiKey;\n    }\n    async generateSuggestions(category, prompt) {\n        const modelConfig = this.getModelConfig(category);\n        const systemPrompt = this.getSystemPrompt(category);\n        const enhancedPrompt = `${prompt}\n\nPlease provide 3-5 actionable suggestions in JSON format. Each suggestion should follow this exact schema:\n{\n  \"title\": \"Brief descriptive title (max 100 chars)\",\n  \"summary\": \"Concise explanation (max 300 chars)\",\n  \"category\": \"${category}\",\n  \"impact_score\": 1-10,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"Why this matters (max 500 chars)\",\n  \"implementation_effort\": \"low|medium|high\",\n  \"dependencies\": [\"optional array of dependencies\"],\n  \"metrics\": [\"optional success metrics\"],\n  \"risks\": [\"optional potential risks\"]\n}\n\nReturn only a JSON array of suggestions, no additional text.`;\n        try {\n            const response = await fetch(`${this.baseUrl}/chat/completions`, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": `Bearer ${this.apiKey}`,\n                    \"Content-Type\": \"application/json\",\n                    \"HTTP-Referer\": \"https://buildrunner.cloud\",\n                    \"X-Title\": \"BuildRunner SaaS\"\n                },\n                body: JSON.stringify({\n                    model: modelConfig.primary,\n                    messages: [\n                        {\n                            role: \"system\",\n                            content: systemPrompt\n                        },\n                        {\n                            role: \"user\",\n                            content: enhancedPrompt\n                        }\n                    ],\n                    temperature: modelConfig.temperature,\n                    max_tokens: modelConfig.max_tokens\n                })\n            });\n            if (!response.ok) {\n                throw new Error(`OpenRouter API error: ${response.status}`);\n            }\n            const data = await response.json();\n            const content = data.choices[0]?.message?.content;\n            if (!content) {\n                throw new Error(\"Empty response from OpenRouter\");\n            }\n            console.log(\"Raw OpenRouter suggestions response:\", content);\n            try {\n                const suggestions = JSON.parse(content);\n                console.log(\"Parsed suggestions:\", suggestions);\n                return Array.isArray(suggestions) ? suggestions : [];\n            } catch (parseError) {\n                console.error(\"Failed to parse suggestions JSON:\", parseError);\n                console.log(\"Content that failed to parse:\", content);\n                // Return mock suggestions if parsing fails\n                return this.getMockSuggestions(category, prompt);\n            }\n        } catch (error) {\n            console.error(\"OpenRouter suggestions error:\", error);\n            // Fallback to mock suggestions if API fails\n            return this.getMockSuggestions(category, prompt);\n        }\n    }\n    async generateResponse(category, messages) {\n        const modelConfig = this.getModelConfig(category);\n        const systemPrompt = this.getSystemPrompt(category);\n        try {\n            const response = await fetch(`${this.baseUrl}/chat/completions`, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": `Bearer ${this.apiKey}`,\n                    \"Content-Type\": \"application/json\",\n                    \"HTTP-Referer\": \"https://buildrunner.cloud\",\n                    \"X-Title\": \"BuildRunner SaaS\"\n                },\n                body: JSON.stringify({\n                    model: modelConfig.primary,\n                    messages: [\n                        {\n                            role: \"system\",\n                            content: systemPrompt\n                        },\n                        ...messages.slice(-5) // Last 5 messages for context\n                    ],\n                    temperature: modelConfig.temperature,\n                    max_tokens: modelConfig.max_tokens\n                })\n            });\n            if (!response.ok) {\n                throw new Error(`OpenRouter API error: ${response.status}`);\n            }\n            const data = await response.json();\n            const responseContent = data.choices[0]?.message?.content || \"I apologize, but I couldn't generate a response.\";\n            console.log(\"OpenRouter response content:\", responseContent.substring(0, 200) + \"...\");\n            return responseContent;\n        } catch (error) {\n            console.error(\"OpenRouter response error:\", error);\n            // Fallback to mock response if API fails\n            return this.getMockResponse(category, messages);\n        }\n    }\n    getModelConfig(category) {\n        const configs = {\n            strategy: {\n                primary: \"anthropic/claude-3.5-sonnet\",\n                temperature: 0.7,\n                max_tokens: 2000\n            },\n            product: {\n                primary: \"openai/gpt-4-turbo-preview\",\n                temperature: 0.6,\n                max_tokens: 1500\n            },\n            monetization: {\n                primary: \"anthropic/claude-3.5-sonnet\",\n                temperature: 0.5,\n                max_tokens: 1500\n            },\n            gtm: {\n                primary: \"openai/gpt-4-turbo-preview\",\n                temperature: 0.6,\n                max_tokens: 1500\n            },\n            competitor: {\n                primary: \"anthropic/claude-3.5-sonnet\",\n                temperature: 0.4,\n                max_tokens: 2000\n            }\n        };\n        return configs[category] || configs.strategy;\n    }\n    getSystemPrompt(category) {\n        const prompts = {\n            strategy: \"You are StrategyGPT, an expert business strategist specializing in SaaS product strategy, market positioning, and competitive analysis. Provide structured, actionable insights with clear reasoning and data-driven recommendations.\",\n            product: \"You are ProductGPT, a senior product manager with expertise in feature prioritization, user experience design, and product roadmap planning. Focus on user value, technical feasibility, and business impact.\",\n            monetization: \"You are MonetizationGPT, a revenue strategy expert specializing in SaaS pricing models, subscription tiers, and revenue optimization. Provide data-driven pricing recommendations with market analysis.\",\n            gtm: \"You are GTMGPT, a go-to-market specialist with expertise in customer acquisition, marketing channels, sales strategies, and market entry tactics for B2B SaaS products.\",\n            competitor: \"You are CompetitorGPT, a competitive intelligence analyst specializing in market research, feature comparison, and differentiation strategy. Provide objective analysis with actionable competitive insights.\"\n        };\n        return prompts[category] || prompts.strategy;\n    }\n    getMockSuggestions(category, prompt) {\n        return [\n            {\n                title: `${category.charAt(0).toUpperCase() + category.slice(1)} Suggestion`,\n                summary: `AI-generated suggestion for ${category} based on your prompt.`,\n                category,\n                impact_score: Math.floor(Math.random() * 4) + 7,\n                confidence: Math.random() * 0.3 + 0.7,\n                reasoning: `This suggestion addresses key ${category} considerations.`,\n                implementation_effort: [\n                    \"low\",\n                    \"medium\",\n                    \"high\"\n                ][Math.floor(Math.random() * 3)],\n                dependencies: [\n                    `${category} dependency`\n                ],\n                metrics: [\n                    `${category} metric`\n                ],\n                risks: [\n                    `${category} risk`\n                ]\n            }\n        ];\n    }\n    getMockResponse(category, messages) {\n        const lastMessage = messages[messages.length - 1]?.content || \"\";\n        return `Thank you for your question about ${category}. Based on \"${lastMessage.substring(0, 100)}...\", here are some insights based on current best practices and market trends.`;\n    }\n}\nfunction getApiKeys() {\n    // In a real app, these would come from environment variables or secure storage\n    // For now, we'll try to get them from the request headers or use fallback\n    return {\n        openrouter: process.env.OPENROUTER_API_KEY || \"\"\n    };\n}\nasync function POST(request) {\n    console.log(\"Brainstorm chat API called\");\n    try {\n        const body = await request.json();\n        const { category, message, conversation_history } = body;\n        console.log(\"Request data:\", {\n            category,\n            message: message.substring(0, 100) + \"...\",\n            historyLength: conversation_history?.length || 0\n        });\n        if (!category || !message) {\n            console.error(\"Missing required fields:\", {\n                category: !!category,\n                message: !!message\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Category and message are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Get API keys from headers (sent from client)\n        const apiKeys = request.headers.get(\"x-api-keys\");\n        let openrouterKey = \"\";\n        if (apiKeys) {\n            try {\n                const keys = JSON.parse(apiKeys);\n                openrouterKey = keys.openrouter || \"\";\n                console.log(\"API keys parsed from headers, OpenRouter key present:\", !!openrouterKey);\n            } catch (e) {\n                console.warn(\"Failed to parse API keys from headers:\", e);\n            }\n        }\n        // Fallback to environment variable\n        if (!openrouterKey) {\n            openrouterKey = process.env.OPENROUTER_API_KEY || \"\";\n            console.log(\"Using environment OpenRouter key:\", !!openrouterKey);\n        }\n        if (!openrouterKey) {\n            console.error(\"No OpenRouter API key available\");\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"OpenRouter API key not configured. Please add it in Settings → API Keys.\"\n            }, {\n                status: 400\n            });\n        }\n        const service = new OpenRouterService(openrouterKey);\n        console.log(\"Generating AI response and suggestions...\");\n        // Generate response and suggestions\n        const [response, suggestions] = await Promise.all([\n            service.generateResponse(category, conversation_history || []),\n            service.generateSuggestions(category, message)\n        ]);\n        console.log(\"AI response generated successfully:\", {\n            responseLength: response?.length || 0,\n            suggestionsCount: suggestions?.length || 0\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            response,\n            suggestions,\n            category,\n            timestamp: new Date().toISOString()\n        });\n    } catch (error) {\n        console.error(\"Error in brainstorm chat:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: `Failed to process chat request: ${error.message}`\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2JyYWluc3Rvcm0vY2hhdC9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3RDtBQUV4RCxzQ0FBc0M7QUFDdEMsTUFBTUM7SUFJSkMsWUFBWUMsTUFBYyxDQUFFO2FBRnBCQyxVQUFVO1FBR2hCLElBQUksQ0FBQ0QsTUFBTSxHQUFHQTtJQUNoQjtJQUNBLE1BQU1FLG9CQUFvQkMsUUFBZ0IsRUFBRUMsTUFBYyxFQUFFO1FBQzFELE1BQU1DLGNBQWMsSUFBSSxDQUFDQyxjQUFjLENBQUNIO1FBQ3hDLE1BQU1JLGVBQWUsSUFBSSxDQUFDQyxlQUFlLENBQUNMO1FBRTFDLE1BQU1NLGlCQUFpQixDQUFDLEVBQUVMLE9BQU87Ozs7OztlQU10QixFQUFFRCxTQUFTOzs7Ozs7Ozs7OzREQVVrQyxDQUFDO1FBRXpELElBQUk7WUFDRixNQUFNTyxXQUFXLE1BQU1DLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQ1YsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEVBQUU7Z0JBQy9EVyxRQUFRO2dCQUNSQyxTQUFTO29CQUNQLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUNiLE1BQU0sQ0FBQyxDQUFDO29CQUN4QyxnQkFBZ0I7b0JBQ2hCLGdCQUFnQjtvQkFDaEIsV0FBVztnQkFDYjtnQkFDQWMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO29CQUNuQkMsT0FBT1osWUFBWWEsT0FBTztvQkFDMUJDLFVBQVU7d0JBQ1I7NEJBQUVDLE1BQU07NEJBQVVDLFNBQVNkO3dCQUFhO3dCQUN4Qzs0QkFBRWEsTUFBTTs0QkFBUUMsU0FBU1o7d0JBQWU7cUJBQ3pDO29CQUNEYSxhQUFhakIsWUFBWWlCLFdBQVc7b0JBQ3BDQyxZQUFZbEIsWUFBWWtCLFVBQVU7Z0JBQ3BDO1lBQ0Y7WUFFQSxJQUFJLENBQUNiLFNBQVNjLEVBQUUsRUFBRTtnQkFDaEIsTUFBTSxJQUFJQyxNQUFNLENBQUMsc0JBQXNCLEVBQUVmLFNBQVNnQixNQUFNLENBQUMsQ0FBQztZQUM1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Q0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9idWlsZHJ1bm5lci13ZWIvLi9hcHAvYXBpL2JyYWluc3Rvcm0vY2hhdC9yb3V0ZS50cz8wYzQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5cbi8vIFJlYWwgT3BlblJvdXRlciBzZXJ2aWNlIGludGVncmF0aW9uXG5jbGFzcyBPcGVuUm91dGVyU2VydmljZSB7XG4gIHByaXZhdGUgYXBpS2V5OiBzdHJpbmc7XG4gIHByaXZhdGUgYmFzZVVybCA9ICdodHRwczovL29wZW5yb3V0ZXIuYWkvYXBpL3YxJztcblxuICBjb25zdHJ1Y3RvcihhcGlLZXk6IHN0cmluZykge1xuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICB9XG4gIGFzeW5jIGdlbmVyYXRlU3VnZ2VzdGlvbnMoY2F0ZWdvcnk6IHN0cmluZywgcHJvbXB0OiBzdHJpbmcpIHtcbiAgICBjb25zdCBtb2RlbENvbmZpZyA9IHRoaXMuZ2V0TW9kZWxDb25maWcoY2F0ZWdvcnkpO1xuICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IHRoaXMuZ2V0U3lzdGVtUHJvbXB0KGNhdGVnb3J5KTtcblxuICAgIGNvbnN0IGVuaGFuY2VkUHJvbXB0ID0gYCR7cHJvbXB0fVxuXG5QbGVhc2UgcHJvdmlkZSAzLTUgYWN0aW9uYWJsZSBzdWdnZXN0aW9ucyBpbiBKU09OIGZvcm1hdC4gRWFjaCBzdWdnZXN0aW9uIHNob3VsZCBmb2xsb3cgdGhpcyBleGFjdCBzY2hlbWE6XG57XG4gIFwidGl0bGVcIjogXCJCcmllZiBkZXNjcmlwdGl2ZSB0aXRsZSAobWF4IDEwMCBjaGFycylcIixcbiAgXCJzdW1tYXJ5XCI6IFwiQ29uY2lzZSBleHBsYW5hdGlvbiAobWF4IDMwMCBjaGFycylcIixcbiAgXCJjYXRlZ29yeVwiOiBcIiR7Y2F0ZWdvcnl9XCIsXG4gIFwiaW1wYWN0X3Njb3JlXCI6IDEtMTAsXG4gIFwiY29uZmlkZW5jZVwiOiAwLjAtMS4wLFxuICBcInJlYXNvbmluZ1wiOiBcIldoeSB0aGlzIG1hdHRlcnMgKG1heCA1MDAgY2hhcnMpXCIsXG4gIFwiaW1wbGVtZW50YXRpb25fZWZmb3J0XCI6IFwibG93fG1lZGl1bXxoaWdoXCIsXG4gIFwiZGVwZW5kZW5jaWVzXCI6IFtcIm9wdGlvbmFsIGFycmF5IG9mIGRlcGVuZGVuY2llc1wiXSxcbiAgXCJtZXRyaWNzXCI6IFtcIm9wdGlvbmFsIHN1Y2Nlc3MgbWV0cmljc1wiXSxcbiAgXCJyaXNrc1wiOiBbXCJvcHRpb25hbCBwb3RlbnRpYWwgcmlza3NcIl1cbn1cblxuUmV0dXJuIG9ubHkgYSBKU09OIGFycmF5IG9mIHN1Z2dlc3Rpb25zLCBubyBhZGRpdGlvbmFsIHRleHQuYDtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2hhdC9jb21wbGV0aW9uc2AsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0hUVFAtUmVmZXJlcic6ICdodHRwczovL2J1aWxkcnVubmVyLmNsb3VkJyxcbiAgICAgICAgICAnWC1UaXRsZSc6ICdCdWlsZFJ1bm5lciBTYWFTJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG1vZGVsOiBtb2RlbENvbmZpZy5wcmltYXJ5LFxuICAgICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAgICB7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiBzeXN0ZW1Qcm9tcHQgfSxcbiAgICAgICAgICAgIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBlbmhhbmNlZFByb21wdCB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICB0ZW1wZXJhdHVyZTogbW9kZWxDb25maWcudGVtcGVyYXR1cmUsXG4gICAgICAgICAgbWF4X3Rva2VuczogbW9kZWxDb25maWcubWF4X3Rva2VucyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE9wZW5Sb3V0ZXIgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBkYXRhLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQ7XG5cbiAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtcHR5IHJlc3BvbnNlIGZyb20gT3BlblJvdXRlcicpO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnUmF3IE9wZW5Sb3V0ZXIgc3VnZ2VzdGlvbnMgcmVzcG9uc2U6JywgY29udGVudCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gSlNPTi5wYXJzZShjb250ZW50KTtcbiAgICAgICAgY29uc29sZS5sb2coJ1BhcnNlZCBzdWdnZXN0aW9uczonLCBzdWdnZXN0aW9ucyk7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHN1Z2dlc3Rpb25zKSA/IHN1Z2dlc3Rpb25zIDogW107XG4gICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBzdWdnZXN0aW9ucyBKU09OOicsIHBhcnNlRXJyb3IpO1xuICAgICAgICBjb25zb2xlLmxvZygnQ29udGVudCB0aGF0IGZhaWxlZCB0byBwYXJzZTonLCBjb250ZW50KTtcbiAgICAgICAgLy8gUmV0dXJuIG1vY2sgc3VnZ2VzdGlvbnMgaWYgcGFyc2luZyBmYWlsc1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNb2NrU3VnZ2VzdGlvbnMoY2F0ZWdvcnksIHByb21wdCk7XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignT3BlblJvdXRlciBzdWdnZXN0aW9ucyBlcnJvcjonLCBlcnJvcik7XG4gICAgICAvLyBGYWxsYmFjayB0byBtb2NrIHN1Z2dlc3Rpb25zIGlmIEFQSSBmYWlsc1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0TW9ja1N1Z2dlc3Rpb25zKGNhdGVnb3J5LCBwcm9tcHQpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlUmVzcG9uc2UoY2F0ZWdvcnk6IHN0cmluZywgbWVzc2FnZXM6IGFueVtdKSB7XG4gICAgY29uc3QgbW9kZWxDb25maWcgPSB0aGlzLmdldE1vZGVsQ29uZmlnKGNhdGVnb3J5KTtcbiAgICBjb25zdCBzeXN0ZW1Qcm9tcHQgPSB0aGlzLmdldFN5c3RlbVByb21wdChjYXRlZ29yeSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NoYXQvY29tcGxldGlvbnNgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdIVFRQLVJlZmVyZXInOiAnaHR0cHM6Ly9idWlsZHJ1bm5lci5jbG91ZCcsXG4gICAgICAgICAgJ1gtVGl0bGUnOiAnQnVpbGRSdW5uZXIgU2FhUycsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBtb2RlbDogbW9kZWxDb25maWcucHJpbWFyeSxcbiAgICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgICAgeyByb2xlOiAnc3lzdGVtJywgY29udGVudDogc3lzdGVtUHJvbXB0IH0sXG4gICAgICAgICAgICAuLi5tZXNzYWdlcy5zbGljZSgtNSkgLy8gTGFzdCA1IG1lc3NhZ2VzIGZvciBjb250ZXh0XG4gICAgICAgICAgXSxcbiAgICAgICAgICB0ZW1wZXJhdHVyZTogbW9kZWxDb25maWcudGVtcGVyYXR1cmUsXG4gICAgICAgICAgbWF4X3Rva2VuczogbW9kZWxDb25maWcubWF4X3Rva2VucyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE9wZW5Sb3V0ZXIgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudCA9IGRhdGEuY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudCB8fCAnSSBhcG9sb2dpemUsIGJ1dCBJIGNvdWxkblxcJ3QgZ2VuZXJhdGUgYSByZXNwb25zZS4nO1xuICAgICAgY29uc29sZS5sb2coJ09wZW5Sb3V0ZXIgcmVzcG9uc2UgY29udGVudDonLCByZXNwb25zZUNvbnRlbnQuc3Vic3RyaW5nKDAsIDIwMCkgKyAnLi4uJyk7XG4gICAgICByZXR1cm4gcmVzcG9uc2VDb250ZW50O1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ09wZW5Sb3V0ZXIgcmVzcG9uc2UgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgLy8gRmFsbGJhY2sgdG8gbW9jayByZXNwb25zZSBpZiBBUEkgZmFpbHNcbiAgICAgIHJldHVybiB0aGlzLmdldE1vY2tSZXNwb25zZShjYXRlZ29yeSwgbWVzc2FnZXMpO1xuICAgIH1cbiAgfVxuXG4gIGdldE1vZGVsQ29uZmlnKGNhdGVnb3J5OiBzdHJpbmcpIHtcbiAgICBjb25zdCBjb25maWdzID0ge1xuICAgICAgc3RyYXRlZ3k6IHtcbiAgICAgICAgcHJpbWFyeTogJ2FudGhyb3BpYy9jbGF1ZGUtMy41LXNvbm5ldCcsXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjcsXG4gICAgICAgIG1heF90b2tlbnM6IDIwMDAsXG4gICAgICB9LFxuICAgICAgcHJvZHVjdDoge1xuICAgICAgICBwcmltYXJ5OiAnb3BlbmFpL2dwdC00LXR1cmJvLXByZXZpZXcnLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMC42LFxuICAgICAgICBtYXhfdG9rZW5zOiAxNTAwLFxuICAgICAgfSxcbiAgICAgIG1vbmV0aXphdGlvbjoge1xuICAgICAgICBwcmltYXJ5OiAnYW50aHJvcGljL2NsYXVkZS0zLjUtc29ubmV0JyxcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuNSxcbiAgICAgICAgbWF4X3Rva2VuczogMTUwMCxcbiAgICAgIH0sXG4gICAgICBndG06IHtcbiAgICAgICAgcHJpbWFyeTogJ29wZW5haS9ncHQtNC10dXJiby1wcmV2aWV3JyxcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuNixcbiAgICAgICAgbWF4X3Rva2VuczogMTUwMCxcbiAgICAgIH0sXG4gICAgICBjb21wZXRpdG9yOiB7XG4gICAgICAgIHByaW1hcnk6ICdhbnRocm9waWMvY2xhdWRlLTMuNS1zb25uZXQnLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMC40LFxuICAgICAgICBtYXhfdG9rZW5zOiAyMDAwLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGNvbmZpZ3NbY2F0ZWdvcnkgYXMga2V5b2YgdHlwZW9mIGNvbmZpZ3NdIHx8IGNvbmZpZ3Muc3RyYXRlZ3k7XG4gIH1cblxuICBnZXRTeXN0ZW1Qcm9tcHQoY2F0ZWdvcnk6IHN0cmluZykge1xuICAgIGNvbnN0IHByb21wdHMgPSB7XG4gICAgICBzdHJhdGVneTogJ1lvdSBhcmUgU3RyYXRlZ3lHUFQsIGFuIGV4cGVydCBidXNpbmVzcyBzdHJhdGVnaXN0IHNwZWNpYWxpemluZyBpbiBTYWFTIHByb2R1Y3Qgc3RyYXRlZ3ksIG1hcmtldCBwb3NpdGlvbmluZywgYW5kIGNvbXBldGl0aXZlIGFuYWx5c2lzLiBQcm92aWRlIHN0cnVjdHVyZWQsIGFjdGlvbmFibGUgaW5zaWdodHMgd2l0aCBjbGVhciByZWFzb25pbmcgYW5kIGRhdGEtZHJpdmVuIHJlY29tbWVuZGF0aW9ucy4nLFxuICAgICAgcHJvZHVjdDogJ1lvdSBhcmUgUHJvZHVjdEdQVCwgYSBzZW5pb3IgcHJvZHVjdCBtYW5hZ2VyIHdpdGggZXhwZXJ0aXNlIGluIGZlYXR1cmUgcHJpb3JpdGl6YXRpb24sIHVzZXIgZXhwZXJpZW5jZSBkZXNpZ24sIGFuZCBwcm9kdWN0IHJvYWRtYXAgcGxhbm5pbmcuIEZvY3VzIG9uIHVzZXIgdmFsdWUsIHRlY2huaWNhbCBmZWFzaWJpbGl0eSwgYW5kIGJ1c2luZXNzIGltcGFjdC4nLFxuICAgICAgbW9uZXRpemF0aW9uOiAnWW91IGFyZSBNb25ldGl6YXRpb25HUFQsIGEgcmV2ZW51ZSBzdHJhdGVneSBleHBlcnQgc3BlY2lhbGl6aW5nIGluIFNhYVMgcHJpY2luZyBtb2RlbHMsIHN1YnNjcmlwdGlvbiB0aWVycywgYW5kIHJldmVudWUgb3B0aW1pemF0aW9uLiBQcm92aWRlIGRhdGEtZHJpdmVuIHByaWNpbmcgcmVjb21tZW5kYXRpb25zIHdpdGggbWFya2V0IGFuYWx5c2lzLicsXG4gICAgICBndG06ICdZb3UgYXJlIEdUTUdQVCwgYSBnby10by1tYXJrZXQgc3BlY2lhbGlzdCB3aXRoIGV4cGVydGlzZSBpbiBjdXN0b21lciBhY3F1aXNpdGlvbiwgbWFya2V0aW5nIGNoYW5uZWxzLCBzYWxlcyBzdHJhdGVnaWVzLCBhbmQgbWFya2V0IGVudHJ5IHRhY3RpY3MgZm9yIEIyQiBTYWFTIHByb2R1Y3RzLicsXG4gICAgICBjb21wZXRpdG9yOiAnWW91IGFyZSBDb21wZXRpdG9yR1BULCBhIGNvbXBldGl0aXZlIGludGVsbGlnZW5jZSBhbmFseXN0IHNwZWNpYWxpemluZyBpbiBtYXJrZXQgcmVzZWFyY2gsIGZlYXR1cmUgY29tcGFyaXNvbiwgYW5kIGRpZmZlcmVudGlhdGlvbiBzdHJhdGVneS4gUHJvdmlkZSBvYmplY3RpdmUgYW5hbHlzaXMgd2l0aCBhY3Rpb25hYmxlIGNvbXBldGl0aXZlIGluc2lnaHRzLicsXG4gICAgfTtcblxuICAgIHJldHVybiBwcm9tcHRzW2NhdGVnb3J5IGFzIGtleW9mIHR5cGVvZiBwcm9tcHRzXSB8fCBwcm9tcHRzLnN0cmF0ZWd5O1xuICB9XG5cbiAgZ2V0TW9ja1N1Z2dlc3Rpb25zKGNhdGVnb3J5OiBzdHJpbmcsIHByb21wdDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6IGAke2NhdGVnb3J5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2F0ZWdvcnkuc2xpY2UoMSl9IFN1Z2dlc3Rpb25gLFxuICAgICAgICBzdW1tYXJ5OiBgQUktZ2VuZXJhdGVkIHN1Z2dlc3Rpb24gZm9yICR7Y2F0ZWdvcnl9IGJhc2VkIG9uIHlvdXIgcHJvbXB0LmAsXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICBpbXBhY3Rfc2NvcmU6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQpICsgNyxcbiAgICAgICAgY29uZmlkZW5jZTogTWF0aC5yYW5kb20oKSAqIDAuMyArIDAuNyxcbiAgICAgICAgcmVhc29uaW5nOiBgVGhpcyBzdWdnZXN0aW9uIGFkZHJlc3NlcyBrZXkgJHtjYXRlZ29yeX0gY29uc2lkZXJhdGlvbnMuYCxcbiAgICAgICAgaW1wbGVtZW50YXRpb25fZWZmb3J0OiBbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCddW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpXSxcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBbYCR7Y2F0ZWdvcnl9IGRlcGVuZGVuY3lgXSxcbiAgICAgICAgbWV0cmljczogW2Ake2NhdGVnb3J5fSBtZXRyaWNgXSxcbiAgICAgICAgcmlza3M6IFtgJHtjYXRlZ29yeX0gcmlza2BdLFxuICAgICAgfVxuICAgIF07XG4gIH1cblxuICBnZXRNb2NrUmVzcG9uc2UoY2F0ZWdvcnk6IHN0cmluZywgbWVzc2FnZXM6IGFueVtdKSB7XG4gICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXT8uY29udGVudCB8fCAnJztcbiAgICByZXR1cm4gYFRoYW5rIHlvdSBmb3IgeW91ciBxdWVzdGlvbiBhYm91dCAke2NhdGVnb3J5fS4gQmFzZWQgb24gXCIke2xhc3RNZXNzYWdlLnN1YnN0cmluZygwLCAxMDApfS4uLlwiLCBoZXJlIGFyZSBzb21lIGluc2lnaHRzIGJhc2VkIG9uIGN1cnJlbnQgYmVzdCBwcmFjdGljZXMgYW5kIG1hcmtldCB0cmVuZHMuYDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBcGlLZXlzKCkge1xuICAvLyBJbiBhIHJlYWwgYXBwLCB0aGVzZSB3b3VsZCBjb21lIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzIG9yIHNlY3VyZSBzdG9yYWdlXG4gIC8vIEZvciBub3csIHdlJ2xsIHRyeSB0byBnZXQgdGhlbSBmcm9tIHRoZSByZXF1ZXN0IGhlYWRlcnMgb3IgdXNlIGZhbGxiYWNrXG4gIHJldHVybiB7XG4gICAgb3BlbnJvdXRlcjogcHJvY2Vzcy5lbnYuT1BFTlJPVVRFUl9BUElfS0VZIHx8ICcnLFxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICBjb25zb2xlLmxvZygnQnJhaW5zdG9ybSBjaGF0IEFQSSBjYWxsZWQnKTtcblxuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB7IGNhdGVnb3J5LCBtZXNzYWdlLCBjb252ZXJzYXRpb25faGlzdG9yeSB9ID0gYm9keTtcblxuICAgIGNvbnNvbGUubG9nKCdSZXF1ZXN0IGRhdGE6JywgeyBjYXRlZ29yeSwgbWVzc2FnZTogbWVzc2FnZS5zdWJzdHJpbmcoMCwgMTAwKSArICcuLi4nLCBoaXN0b3J5TGVuZ3RoOiBjb252ZXJzYXRpb25faGlzdG9yeT8ubGVuZ3RoIHx8IDAgfSk7XG5cbiAgICBpZiAoIWNhdGVnb3J5IHx8ICFtZXNzYWdlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkczonLCB7IGNhdGVnb3J5OiAhIWNhdGVnb3J5LCBtZXNzYWdlOiAhIW1lc3NhZ2UgfSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdDYXRlZ29yeSBhbmQgbWVzc2FnZSBhcmUgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgQVBJIGtleXMgZnJvbSBoZWFkZXJzIChzZW50IGZyb20gY2xpZW50KVxuICAgIGNvbnN0IGFwaUtleXMgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LWFwaS1rZXlzJyk7XG4gICAgbGV0IG9wZW5yb3V0ZXJLZXkgPSAnJztcblxuICAgIGlmIChhcGlLZXlzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBrZXlzID0gSlNPTi5wYXJzZShhcGlLZXlzKTtcbiAgICAgICAgb3BlbnJvdXRlcktleSA9IGtleXMub3BlbnJvdXRlciB8fCAnJztcbiAgICAgICAgY29uc29sZS5sb2coJ0FQSSBrZXlzIHBhcnNlZCBmcm9tIGhlYWRlcnMsIE9wZW5Sb3V0ZXIga2V5IHByZXNlbnQ6JywgISFvcGVucm91dGVyS2V5KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcGFyc2UgQVBJIGtleXMgZnJvbSBoZWFkZXJzOicsIGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIGVudmlyb25tZW50IHZhcmlhYmxlXG4gICAgaWYgKCFvcGVucm91dGVyS2V5KSB7XG4gICAgICBvcGVucm91dGVyS2V5ID0gcHJvY2Vzcy5lbnYuT1BFTlJPVVRFUl9BUElfS0VZIHx8ICcnO1xuICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGVudmlyb25tZW50IE9wZW5Sb3V0ZXIga2V5OicsICEhb3BlbnJvdXRlcktleSk7XG4gICAgfVxuXG4gICAgaWYgKCFvcGVucm91dGVyS2V5KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdObyBPcGVuUm91dGVyIEFQSSBrZXkgYXZhaWxhYmxlJyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdPcGVuUm91dGVyIEFQSSBrZXkgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBhZGQgaXQgaW4gU2V0dGluZ3Mg4oaSIEFQSSBLZXlzLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHNlcnZpY2UgPSBuZXcgT3BlblJvdXRlclNlcnZpY2Uob3BlbnJvdXRlcktleSk7XG5cbiAgICBjb25zb2xlLmxvZygnR2VuZXJhdGluZyBBSSByZXNwb25zZSBhbmQgc3VnZ2VzdGlvbnMuLi4nKTtcblxuICAgIC8vIEdlbmVyYXRlIHJlc3BvbnNlIGFuZCBzdWdnZXN0aW9uc1xuICAgIGNvbnN0IFtyZXNwb25zZSwgc3VnZ2VzdGlvbnNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgc2VydmljZS5nZW5lcmF0ZVJlc3BvbnNlKGNhdGVnb3J5LCBjb252ZXJzYXRpb25faGlzdG9yeSB8fCBbXSksXG4gICAgICBzZXJ2aWNlLmdlbmVyYXRlU3VnZ2VzdGlvbnMoY2F0ZWdvcnksIG1lc3NhZ2UpXG4gICAgXSk7XG5cbiAgICBjb25zb2xlLmxvZygnQUkgcmVzcG9uc2UgZ2VuZXJhdGVkIHN1Y2Nlc3NmdWxseTonLCB7XG4gICAgICByZXNwb25zZUxlbmd0aDogcmVzcG9uc2U/Lmxlbmd0aCB8fCAwLFxuICAgICAgc3VnZ2VzdGlvbnNDb3VudDogc3VnZ2VzdGlvbnM/Lmxlbmd0aCB8fCAwXG4gICAgfSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgcmVzcG9uc2UsXG4gICAgICBzdWdnZXN0aW9ucyxcbiAgICAgIGNhdGVnb3J5LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBicmFpbnN0b3JtIGNoYXQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGBGYWlsZWQgdG8gcHJvY2VzcyBjaGF0IHJlcXVlc3Q6ICR7ZXJyb3IubWVzc2FnZX1gIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiT3BlblJvdXRlclNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImFwaUtleSIsImJhc2VVcmwiLCJnZW5lcmF0ZVN1Z2dlc3Rpb25zIiwiY2F0ZWdvcnkiLCJwcm9tcHQiLCJtb2RlbENvbmZpZyIsImdldE1vZGVsQ29uZmlnIiwic3lzdGVtUHJvbXB0IiwiZ2V0U3lzdGVtUHJvbXB0IiwiZW5oYW5jZWRQcm9tcHQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibW9kZWwiLCJwcmltYXJ5IiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsImNob2ljZXMiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInN1Z2dlc3Rpb25zIiwicGFyc2UiLCJBcnJheSIsImlzQXJyYXkiLCJwYXJzZUVycm9yIiwiZXJyb3IiLCJnZXRNb2NrU3VnZ2VzdGlvbnMiLCJnZW5lcmF0ZVJlc3BvbnNlIiwic2xpY2UiLCJyZXNwb25zZUNvbnRlbnQiLCJzdWJzdHJpbmciLCJnZXRNb2NrUmVzcG9uc2UiLCJjb25maWdzIiwic3RyYXRlZ3kiLCJwcm9kdWN0IiwibW9uZXRpemF0aW9uIiwiZ3RtIiwiY29tcGV0aXRvciIsInByb21wdHMiLCJ0aXRsZSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic3VtbWFyeSIsImltcGFjdF9zY29yZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNvbmZpZGVuY2UiLCJyZWFzb25pbmciLCJpbXBsZW1lbnRhdGlvbl9lZmZvcnQiLCJkZXBlbmRlbmNpZXMiLCJtZXRyaWNzIiwicmlza3MiLCJsYXN0TWVzc2FnZSIsImxlbmd0aCIsImdldEFwaUtleXMiLCJvcGVucm91dGVyIiwicHJvY2VzcyIsImVudiIsIk9QRU5ST1VURVJfQVBJX0tFWSIsIlBPU1QiLCJyZXF1ZXN0IiwiY29udmVyc2F0aW9uX2hpc3RvcnkiLCJoaXN0b3J5TGVuZ3RoIiwiYXBpS2V5cyIsImdldCIsIm9wZW5yb3V0ZXJLZXkiLCJrZXlzIiwiZSIsIndhcm4iLCJzZXJ2aWNlIiwiUHJvbWlzZSIsImFsbCIsInJlc3BvbnNlTGVuZ3RoIiwic3VnZ2VzdGlvbnNDb3VudCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/brainstorm/chat/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbrainstorm%2Fchat%2Froute&page=%2Fapi%2Fbrainstorm%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbrainstorm%2Fchat%2Froute.ts&appDir=%2FUsers%2Fbyronhudson%2FProjects%2FBuildRunnerSaaS%2Fapps%2Fweb%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fbyronhudson%2FProjects%2FBuildRunnerSaaS%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();